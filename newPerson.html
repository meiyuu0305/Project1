<!-- file for form to add new person to team -->

<!DOCTYPE html>

<html>
    <body>
        <header>
            <nav class="menu">
                <p>Person 1's Task Management</p>
                <div id="animatation"></div>
                <div class="menuitems">
                    <ul>
                        <li><a href="frontpage.html">Team Java</a></li>
                        <li><a href="person1.html">Person 1</a></li>
                        <li><a href="newPerson.html">Add New Team Member</a></li>
                        <li><a href="newTask.html">Add New Task</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <form id="personForm" method="post">
            <fieldset>
                <legend>Add New Team Member</legend>
                <p>
                    <label for="f-firstname">First Name: </label>
                    <input type="text" name="firstname" placeholder="First" id="f-firstname" />
                </p>
                <p>
                    <label for="f-lastname">Last Name: </label>
                    <input type="text" name="lastname" placeholder="Last" id="f-lastname" />
                </p>
                <input type="reset" />
                <input type="submit" />
            </fieldset>
        </form>
        <p id="personJSONResult">Team Member Info</p>

        <script>
            const personJSONText = document.getElementById("personJSONResult");
            personJSONText.innerHTML = localStorage.getItem("JSONInfo1");
            const formPerson = document.querySelector("#personForm");
            formPerson.addEventListener("submit", function (e) {
                let fname = document.querySelector("#f-firstname").value;
                if(fname==null || fname=="") {
                    alert("Enter first name");
                    e.preventDefault();
                    return;
                }
                let lname = document.querySelector("#f-lastname").value;
                if(lname==null || lname=="") {
                    alert("Enter last name");
                    e.preventDefault();
                    return;
                }

                const teamMemberInfo = {FirstName:fname, LastName:lname};
                let personTextJSON = JSON.stringify(teamMemberInfo);
                localStorage.setItem("JSONInfo1", personTextJSON);
            });
        </script>
    </body>
</html>
